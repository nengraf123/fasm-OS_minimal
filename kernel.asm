; kernel.asm - минимальное ядро с черным экраном после загрузки ; Описывает назначение файла — минимальное ядро, отображающее черный экран
org 0x8000                                                    ; Устанавливает начало кода по адресу 0x8000 (куда загрузчик загружает ядро)
use16                                                         ; Указывает, что используется 16-битный режим процессора

start:                                                        ; Метка начала программы
    cli                                                       ; Отключает прерывания для предотвращения внешних вмешательств
    xor ax, ax                                                ; Обнуляет регистр AX (AX = 0) для инициализации сегментов
    mov ds, ax                                                ; Устанавливает сегмент данных (DS) в 0
    mov es, ax                                                ; Устанавливает дополнительный сегмент (ES) в 0
    
    ; Очистка экрана                                          ; Комментарий для блока очистки экрана
    mov ax, 0x0003                                            ; Устанавливает видеорежим 0x03 (текстовый режим 80x25) в AX
    int 0x10                                                  ; Вызывает прерывание BIOS для установки видеорежима (очищает экран)
    
    ; Спрятать курсор                                         ; Комментарий для блока скрытия курсора
    mov ah, 0x01                                              ; Устанавливает функцию 0x01 (управление курсором) в AH
    mov ch, 0x20                                              ; Устанавливает бит для отключения отображения курсора
    mov cl, 0x00                                              ; Устанавливает нулевое значение для CL (не используется в данном случае)
    int 0x10                                                  ; Вызывает прерывание BIOS для применения настроек курсора
    
    ; Бесконечный цикл (черный экран)                        ; Комментарий для бесконечного цикла
.halt:                                                        ; Метка для бесконечного цикла
    hlt                                                       ; Останавливает процессор (энергосберегающий режим)
    jmp .halt                                                 ; Бесконечный переход к метке .halt для предотвращения дальнейшего выполнения

times 2048 - ($ - $$) db 0                                    ; Заполняет оставшееся пространство до 2048 байт нулями
